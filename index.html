<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WesXC Runs</title>

  <link rel="icon" type="image/png" href="WesLogo.png" sizes="32x32" />
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <link rel="stylesheet" href="styling.css">   
  <link rel="stylesheet" href="phone-styling.css"> 
  <link rel="stylesheet" href="phone-hor-styling.css"> 
</head>

<body>
  <script src = "routes.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js'></script>
  
  <div id="map"></div>
  <div class="overlay" id="overlay"></div>

  <div class="popup" id="popup">
    <span class="close-button" onclick="closePopup()">&times;</span>
    <div id ="poptext">
    <p>Toggle between single and multi select using the toggle in the bottom</p>
    <p>Single Select - one route gets selected at a time and selecting a new one replaces the old</p>
    <p>Multi  Select - can select as many runs at once and it will keep adding them</p>
    <p>Satellite and Street View- can change between them using toggle in the bottom right</p>
    <p><b>Search function - can use name and 2 distance fields in header of the table of routes to search for routes
      that contain the text in the name field and have a distance between the 2 distance fields</b></p>
    <p><b>Checkboxes- can check and uncheck different types of runs to make them visible, <p>MAIN is the base runs we do, ADD is add ons and wu/cd loops, MOD is modifications to loops, DRIVE is runs you have to drive to, OB is out and backs</p></b></p>
  </p><b>On Computer you can toggle through the routes with up and down arrow in single select mode</b></p>
  </div>
</div>


  <button id = "help" onclick="showPopup()"><b>?</b></button>

  <button class = "toggleButtton" id="toggleSat" onclick = "toggleSatellite()">View Streets</button>
  <button class = "toggleButtton" id="toggleSelect" onclick = "toggleSelect()">Use Multi Select</button>
  <button class = "toggleButtton" id="toggleComments" onclick = "toggleComments()">Comments Off</button>

  <button id ="show" onclick = "showTable()">&#8594;</button>

  <div class="scrollable-container" id ="RouteTable">
    <div class="frozen-header">
        <h1>Wes XC Runs</h1>
        <label id ="searchLabel">Name:</label>
        <input type="text" id="search" name="search" onkeydown="handleNameSearch(event)" oninput="search(event)"> 
        <label id ="distanceLabel">Dist:</label>
        <input type="text" id="dist1" name="dist1" onkeydown="handleDist1Search(event)" oninput="search(event)"> 
        <label id ="distDash">-</label>
        <input type="text" id="dist2" name="dist2" onkeydown="handleDist2Search(event)" oninput="search(event)"> 
        <button class="close-button" id ="hide" onclick = "hideTable()">&#8592;</button>

        <label class="filterLabel" id = "mainsLabel">Main</label>
        <input class="filterCheckbox" type="checkbox" id="mainsBox" onclick="filter(this)" checked/>

        <label class="filterLabel" id = "addsLabel">Add</label>
        <input class="filterCheckbox" type="checkbox" id="addsBox" onclick="filter(this)"/>

        <label class="filterLabel" id = "variationsLabel">Mod</label>
        <input class="filterCheckbox" type="checkbox" id="variationsBox" onclick="filter(this)" checked/>
        
        <label class="filterLabel" id = "drivesLabel">Drive</label>
        <input class="filterCheckbox" type="checkbox" id="drivesBox" onclick="filter(this)"/>

        <label class="filterLabel" id = "obsLabel">OB</label>
        <input class="filterCheckbox" type="checkbox" id="obsBox" onclick="filter(this)" checked/>
    </div>

    <div class="scrollable-content" id ="innerRouteTable">
        <table id = "routes">
            <tr>
              <th>Name</th>
              <th>Distance</th>
            </tr>
        </table> 
    </div>
  </div>

  <div id = "error-message"></div>
  <div id = "distanceMarker"></div>
  
  <div id = showInfoDiv>
    <div id = "showInfoDivText"></div>
    <button class="close-button" id ="infoClose" onclick = "closeInfo()">&times;</button>
  </div>

  <script src = "functionality.js"></script>


</body>
</html>